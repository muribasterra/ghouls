<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous"> 
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
  <link href='https://fonts.googleapis.com/css?family=Metal Mania' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=Pirata One' rel='stylesheet'>
	
  <title>Ghouls of Gainesville</title>
	
  <style type="text/css">
    .custom .leaflet-popup-tip,
    .custom .leaflet-popup-content-wrapper {
      background: #D8E1F4;
      box-shadow: 0 3px 14px
	      rgba(0,0,0,0.4);
    }
	.container {
		background-image: url('https://www.conoscenzealconfine.it/wp-content/uploads/2016/02/Orbs3.jpg');
		background-color: #3F434E;
		margin-left: 20px;
		margin-top: 0px;
		margin-bottom: 0px;
		height: 80px;
		overflow: hidden;
		width: 100%;
	  }		
	 h1 {
		color: #B7C0DE;
		font-family: "Metal Mania";
		font-size: 60px;
		text-shadow: 3px 3px #3F434E;
		text-align: left;
		margin-top: 0px;
		margin-bottom: 10px;
		position: absolute;
	  }
	  .button {
		  background-color: #8899D1;
		  border: none;
		  border-radius: 8px;
		  color: 161C31;
		  padding: 10px 20px;
		  text-align: center;
		  text-decoration: none;
		  font-family: "Pirata One";
		  font-size: 20px;
		  display: inline-block;
		  cursor: pointer;
		  margin-right: 10px;
		  margin-left: 100px;
		  top: -20px;
		  bottom: -20px;
	  }
	  .button2 {
		  background-color: #384160;
	  	  margin-left: 30px;
	  }
	  .modal {
		  display: none; /*Hidden by default*/
		  position: absolute; /*Stay in place*/
		  z-index: 2; /*sit on top*/
		  padding-top: 100px; /*Location of box*/
		  left: 0;
		  top: 0;
		  width: 100%;
		  height: 100%;
		  overflow: auto; /*Enable scrolling if needed*/
		  background-color: rgb(0,0,0); /*Fallback color*/
		  background-color: rgba(0,0,0,0.4); /*Black with opacity*/
	  }
	  .modal2 {
		  display: none; /*Hidden by default*/
		  position: absolute; /*Stay in place*/
		  z-index: 2; /*sit on top*/
		  padding-top: 100px; /*Location of box*/
		  left: 0;
		  top: 0;
		  width: 100%;
		  height: 100%;
		  overflow: auto; /*Enable scrolling if needed*/
		  background-color: rgb(0,0,0); /*Fallback color*/
		  background-color: rgba(0,0,0,0.4); /*Black with opacity*/
	  }
	  .modal-content {
		  background-color: #e3e8ef;
		  border-radius: 8px;
		  margin: auto;
		  padding: 20px;
		  border: 1px solid #888;
		  width: 80%;
	  }
	  .modal2-content {
		  background-color: #e3e8ef;
		  border-radius: 8px;
		  margin: auto;
		  padding: 20px;
		  border: 1px solid #888;
		  width: 80%;
	  }
	  .close {
		  color: #aaaaaa;
		  floar: right;
		  font-size: 28px;
		  font-weight: bold;
	  }
	  .close:hover
	  /close:focus {
		  color: #000;
		  text-decoration: none;
		  cursor: pointer;
	  } 
	  html, body, #map {
		  height: 95%;
		  width: 100%;
		  padding: 0px;
		  margin: 0px;	
		  position: relative;
		  z-index: 1;
	  }
  </style>
</head>
<body>
  <div class="container">
	  <h1>Ghouls of Gainesville<button class="button">About</button><button class="button button2">Credits</button></h1>
	  </div>
	  <div id="myModal" class="modal">	
		  <div class="modal-content">
		<span class="close">&times;</span>
		<p>text</p>
		  </div>  
	  </div>
	<div id="myModal2" class="modal">
		<div class="modal2-content">
			<span class="close">&times;</span>
			<p>text2</p>
		</div>
	</div>
	<div id="map">
		</div>
  <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script>
    // Variable to hold map. Includes settings for where the map will center upon loading, zoom level, etc.
    var map = L.map('map',{ center: [29.651974, -82.325011], zoom: 12, scrollWheelZoom: false});
    // Add OpenStreetMap tile layer to map element + attribution
L.tileLayer('https://api.mapbox.com/styles/v1/muribasterra/cjpbu7u1a0w4d2rnyz7gmrdfu/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoibXVyaWJhc3RlcnJhIiwiYSI6ImNqcGJoejY4YzJ3ZGEzcXA3M2hmYmRyMXIifQ.z5CXXaTBJ6-W4rEmpAqR5Q', { attribution: '© OpenStreetMap © MapBox' }).addTo(map);    
    // Load GeoJSON file from repository using JQuery
    $.getJSON("ghosts2.geojson",function(webmap){
      //Add GeoJSON layer to map
      L.geoJson(webmap,{
        pointToLayer: function(feature, latlng) {
          var ghostIcon = new L.icon({ // Variable to create new custom icon for all features in geoJSON file
      iconUrl: 'https://image.flaticon.com/icons/svg/1138/1138148.svg',
      iconSize: [32, 32],
      iconAnchor: [10, 15],
      popupAnchor: [5, -20],
    });
          return L.marker(latlng, {icon:ghostIcon}); // Adds markers to all features in geoJSON file using custom ghostIcon
        },
        onEachFeature: function (feature, layer) { // Adds popups to all features in geoJSON file that include name, description, etc. 
          layer.bindPopup('<img src="'+feature.properties.Picture+'" style="width:300px"><h3>'+feature.properties.name+'</h3><h4>'+feature.properties.address+'</h4><p>'+feature.properties.description+'</p>');
        },
      }).addTo(map);
    });
	  // Function to find user's current location
map.locate({setView: true, maxZoom: 12});
    var userIcon = L.icon({ // Varible to create custom icon
      iconUrl: 'https://image.flaticon.com/icons/svg/1299/1299949.svg', // Link to icon
      iconSize: [32, 32], // Size of icon
      iconAnchor: [15, 13], // Icon anchor relative to point location
      popupAnchor: [2, -20], // Popup anchor relative to icon/point location
    });
// Tell Leaflet what to do once locate() is successful [bind locationfound event to onLocationFound()] 
map.on('locationfound', onLocationFound);
function onLocationFound(e) {
    // Create a marker at the users "latlng" and add it to the map
    var marker = L.marker(e.latlng, {icon:userIcon}).addTo(map); // Add custom userIcon to marker
    marker.bindPopup("<b>Your Location</b><br>Refresh page to update.").openPopup();
    marker.bringToFront()
	  }
// Get the modal
	 var modal = document.getElementsByClassName('modal');
	  // Get button that opens modal
	  var btn = document.getElementsByClassName("button");
	  // Get the <span> element that closes the modal
	  var span = document.getElementsByClassName("close");
	  // When user clicks the button, open the modal
	  btn[0].onclick = function() {
		  modal[0].style.display = "block";
	  }
	  btn[1].onclick = function() {
		  modal[1].style.display = "block";
	  }
	  // When the user clicks on <span> (x), close the modal
	  span[0].onclick = function() {
		  modal[0].style.display = "none";
	  }
	  span[1].onclick = function() {
		  modal[1].style.display = "none";
	  }
	  // When the user clicks anywhere outside of the modal, close it
	  window.onclick = function(event) {
		  if (event.target == modal) {
			  modal.style.display = "none";
		  }
	  }
  </script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
</body>
</html>
